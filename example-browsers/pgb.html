<!DOCTYPE html>

<html>

    <head>

        <style>
        </style>

        <title>Mouse GRCm38 :: Dalliance</title>
        <script language="javascript" src="../build/dalliance-all.js"></script>

        <script language="javascript" src="./pgb.js"></script>

        <script language="javascript">
         var sources = [
             {
                 name: 'Genes',
                 desc: 'Gene structures from GENCODE 19',
                 bwgURI: 'http://www.biodalliance.org/datasets/gencode.bb',
                 stylesheet_uri: 'https://test-gn2.genenetwork.org/api_pre1/templates/biodalliance/gencode.xml',
                 collapseSuperGroups: true,
                 trixURI: 'http://www.biodalliance.org/datasets/geneIndex.ix'
             },
             {
                 name: 'Genome',
                 twoBitURI: 'http://www.biodalliance.org/datasets/GRCm38/mm10.2bit',
                 desc: 'Mouse reference genome build GRCm38',
                 tier_type: 'sequence',
                 provides_entrypoints: true
             },
             {
                 name: 'QTL',
                 tier_type: 'qtl',
                 renderer: "qtlRenderer",
                 uri: 'http://test-gn2.genenetwork.org/api_pre1/qtl/lod2.csv'
             }
         var bdTrackSourceConfigs = [{ eventName: "range",
                                       eventTemplate: { "chr": "Chr",
                                                        "minPos": "Bp",
                                                        "maxPos": "Bp"
                                       },
                                       rawTemplate: { "segment": "chr",
                                                      "min": "minPos",
                                                      "max": "maxPos"
                                       }
         }];

         ];

         var renderers = { "qtlRenderer": PS.qtlRenderer(250),
                           "gwasRenderer": PS.gwasRenderer(250) };

         var config = { tracks: { BDTrack: sources,
                                  CyGraph: [{ name: "graph",
                                              elementsUri: "http://localhost:8080/eles.json" }] },
                        browser: Browser,
                        wrapRenderer: WrappedRenderer.wrapRenderer,
                        renderers: renderers,
                        eventSources: { bd: bdTrackSourceConfigs }
         };


         PS.main(config)();

        </script>
    </head>

    <body>
        <style>
         // These styles are used by the PS elements
            #bdDiv {
                width: 100%,
                float: left;
            }
            #cyDiv {
                width: 100%;
                height: 300px;
                float: left;
                display: block;
            }
         .powered-by {
             display: none;

         }
        </style>
        <div id="psgbHolder"></div>
    </body>
</html>
